{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"initialPosition\", \"onCalendarToggled\", \"disablePan\", \"hideKnob\", \"leftArrowImageSource\", \"rightArrowImageSource\", \"allowShadow\", \"disableWeekScroll\", \"openThreshold\", \"closeThreshold\", \"closeOnDayPress\", \"horizontal\", \"calendarStyle\", \"theme\", \"style\", \"firstDay\", \"onDayPress\", \"hideArrows\", \"onPressArrowLeft\", \"onPressArrowRight\", \"renderArrow\", \"testID\"];\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport first from 'lodash/first';\nimport isFunction from 'lodash/isFunction';\nimport isNumber from 'lodash/isNumber';\nimport throttle from 'lodash/throttle';\nimport XDate from 'xdate';\nimport React, { useContext, useRef, useState, useEffect, useCallback, useMemo } from 'react';\nimport AccessibilityInfo from \"react-native-web/dist/exports/AccessibilityInfo\";\nimport PanResponder from \"react-native-web/dist/exports/PanResponder\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { page } from \"../dateutils\";\nimport { parseDate, toMarkingFormat } from \"../interface\";\nimport styleConstructor, { KNOB_CONTAINER_HEIGHT } from \"./style\";\nimport WeekDaysNames from \"../commons/WeekDaysNames\";\nimport Calendar from \"../calendar\";\nimport CalendarList from \"../calendar-list\";\nimport Week from \"./week\";\nimport WeekCalendar from \"./WeekCalendar\";\nimport Context from \"./Context\";\nimport constants from \"../commons/constants\";\nimport { UpdateSources } from \"./commons\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nexport var Positions;\n(function (Positions) {\n  Positions[\"CLOSED\"] = \"closed\";\n  Positions[\"OPEN\"] = \"open\";\n})(Positions || (Positions = {}));\nvar SPEED = 20;\nvar BOUNCINESS = 6;\nvar WEEK_HEIGHT = 46;\nvar DAY_NAMES_PADDING = 24;\nvar PAN_GESTURE_THRESHOLD = 30;\nvar LEFT_ARROW = require(\"../calendar/img/previous.png\");\nvar RIGHT_ARROW = require(\"../calendar/img/next.png\");\nvar knobHitSlop = {\n  left: 10,\n  right: 10,\n  top: 10,\n  bottom: 10\n};\nvar headerStyleOverride = {\n  stylesheet: {\n    calendar: {\n      header: {\n        week: {\n          marginTop: 7,\n          marginBottom: -4,\n          flexDirection: 'row',\n          justifyContent: 'space-around'\n        }\n      }\n    }\n  }\n};\nvar ExpandableCalendar = function ExpandableCalendar(props) {\n  var _useContext = useContext(Context),\n    date = _useContext.date,\n    setDate = _useContext.setDate,\n    numberOfDays = _useContext.numberOfDays,\n    timelineLeftInset = _useContext.timelineLeftInset;\n  var _props$initialPositio = props.initialPosition,\n    initialPosition = _props$initialPositio === void 0 ? Positions.CLOSED : _props$initialPositio,\n    onCalendarToggled = props.onCalendarToggled,\n    disablePan = props.disablePan,\n    _props$hideKnob = props.hideKnob,\n    hideKnob = _props$hideKnob === void 0 ? numberOfDays && numberOfDays > 1 : _props$hideKnob,\n    _props$leftArrowImage = props.leftArrowImageSource,\n    leftArrowImageSource = _props$leftArrowImage === void 0 ? LEFT_ARROW : _props$leftArrowImage,\n    _props$rightArrowImag = props.rightArrowImageSource,\n    rightArrowImageSource = _props$rightArrowImag === void 0 ? RIGHT_ARROW : _props$rightArrowImag,\n    _props$allowShadow = props.allowShadow,\n    allowShadow = _props$allowShadow === void 0 ? true : _props$allowShadow,\n    disableWeekScroll = props.disableWeekScroll,\n    _props$openThreshold = props.openThreshold,\n    openThreshold = _props$openThreshold === void 0 ? PAN_GESTURE_THRESHOLD : _props$openThreshold,\n    _props$closeThreshold = props.closeThreshold,\n    closeThreshold = _props$closeThreshold === void 0 ? PAN_GESTURE_THRESHOLD : _props$closeThreshold,\n    _props$closeOnDayPres = props.closeOnDayPress,\n    closeOnDayPress = _props$closeOnDayPres === void 0 ? true : _props$closeOnDayPres,\n    _props$horizontal = props.horizontal,\n    horizontal = _props$horizontal === void 0 ? true : _props$horizontal,\n    calendarStyle = props.calendarStyle,\n    theme = props.theme,\n    propsStyle = props.style,\n    _props$firstDay = props.firstDay,\n    firstDay = _props$firstDay === void 0 ? 0 : _props$firstDay,\n    onDayPress = props.onDayPress,\n    hideArrows = props.hideArrows,\n    onPressArrowLeft = props.onPressArrowLeft,\n    onPressArrowRight = props.onPressArrowRight,\n    renderArrow = props.renderArrow,\n    testID = props.testID,\n    others = _objectWithoutProperties(props, _excluded);\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    screenReaderEnabled = _useState2[0],\n    setScreenReaderEnabled = _useState2[1];\n  var _useState3 = useState(0),\n    _useState4 = _slicedToArray(_useState3, 2),\n    headerHeight = _useState4[0],\n    setHeaderHeight = _useState4[1];\n  var onHeaderLayout = useCallback(function (_ref) {\n    var height = _ref.nativeEvent.layout.height;\n    setHeaderHeight(height);\n  }, []);\n  var getYear = function getYear(date) {\n    var d = new XDate(date);\n    return d.getFullYear();\n  };\n  var getMonth = function getMonth(date) {\n    var d = new XDate(date);\n    return d.getMonth() + 1;\n  };\n  var visibleMonth = useRef(getMonth(date));\n  var visibleYear = useRef(getYear(date));\n  var isLaterDate = function isLaterDate(date1, date2) {\n    if (date1 && date2) {\n      if (date1.year > getYear(date2)) {\n        return true;\n      }\n      if (date1.year === getYear(date2)) {\n        if (date1.month > getMonth(date2)) {\n          return true;\n        }\n      }\n    }\n    return false;\n  };\n  useEffect(function () {\n    scrollToDate(date);\n  }, [date]);\n  var getNumberOfWeeksInMonth = function getNumberOfWeeksInMonth(month) {\n    var days = page(new XDate(month), firstDay);\n    return days.length / 7;\n  };\n  var numberOfWeeks = useRef(getNumberOfWeeksInMonth(date));\n  var _useState5 = useState(numberOfDays ? Positions.CLOSED : initialPosition),\n    _useState6 = _slicedToArray(_useState5, 2),\n    position = _useState6[0],\n    setPosition = _useState6[1];\n  var isOpen = position === Positions.OPEN;\n  var getOpenHeight = function getOpenHeight() {\n    if (!horizontal) {\n      return Math.max(constants.screenHeight, constants.screenWidth);\n    }\n    return headerHeight + WEEK_HEIGHT * numberOfWeeks.current + (hideKnob ? 0 : KNOB_CONTAINER_HEIGHT);\n  };\n  var openHeight = useRef(getOpenHeight());\n  var closedHeight = useMemo(function () {\n    return headerHeight + WEEK_HEIGHT + (hideKnob || Number(numberOfDays) > 1 ? 0 : KNOB_CONTAINER_HEIGHT);\n  }, [numberOfDays, hideKnob, headerHeight]);\n  var startHeight = useMemo(function () {\n    return isOpen ? openHeight.current : closedHeight;\n  }, [closedHeight, isOpen]);\n  var _height = useRef(startHeight);\n  var deltaY = useMemo(function () {\n    return new Animated.Value(startHeight);\n  }, [startHeight]);\n  var headerDeltaY = useRef(new Animated.Value(isOpen ? -headerHeight : 0));\n  useEffect(function () {\n    _height.current = startHeight;\n    deltaY.setValue(startHeight);\n  }, [startHeight]);\n  useEffect(function () {\n    openHeight.current = getOpenHeight();\n  }, [headerHeight]);\n  useEffect(function () {\n    if (numberOfDays) {\n      setPosition(Positions.CLOSED);\n    }\n  }, [numberOfDays]);\n  var wrapper = useRef();\n  var calendarList = useRef();\n  var header = useRef();\n  var weekCalendarWrapper = useRef();\n  var style = useRef(styleConstructor(theme));\n  var themeObject = Object.assign(headerStyleOverride, theme);\n  var _wrapperStyles = useRef({\n    style: {\n      height: startHeight\n    }\n  });\n  var _headerStyles = {\n    style: {\n      top: isOpen ? -headerHeight : 0\n    }\n  };\n  var _weekCalendarStyles = {\n    style: {\n      opacity: isOpen ? 0 : 1\n    }\n  };\n  var shouldHideArrows = !horizontal ? true : hideArrows || false;\n  var updateNativeStyles = function updateNativeStyles() {\n    var _wrapper$current;\n    wrapper == null ? void 0 : (_wrapper$current = wrapper.current) == null ? void 0 : _wrapper$current.setNativeProps(_wrapperStyles.current);\n    if (!horizontal) {\n      var _header$current;\n      header == null ? void 0 : (_header$current = header.current) == null ? void 0 : _header$current.setNativeProps(_headerStyles);\n    } else {\n      var _weekCalendarWrapper$;\n      weekCalendarWrapper == null ? void 0 : (_weekCalendarWrapper$ = weekCalendarWrapper.current) == null ? void 0 : _weekCalendarWrapper$.setNativeProps(_weekCalendarStyles);\n    }\n  };\n  var weekDaysStyle = useMemo(function () {\n    var leftPaddings = calendarStyle == null ? void 0 : calendarStyle.paddingLeft;\n    var rightPaddings = calendarStyle == null ? void 0 : calendarStyle.paddingRight;\n    return [style.current.weekDayNames, {\n      paddingLeft: isNumber(leftPaddings) ? leftPaddings + 6 : DAY_NAMES_PADDING,\n      paddingRight: isNumber(rightPaddings) ? rightPaddings + 6 : DAY_NAMES_PADDING\n    }];\n  }, [calendarStyle]);\n  var animatedHeaderStyle = useMemo(function () {\n    return [style.current.header, {\n      height: headerHeight,\n      top: headerDeltaY.current\n    }];\n  }, [headerDeltaY.current, headerHeight]);\n  var weekCalendarStyle = useMemo(function () {\n    return [style.current.weekContainer, isOpen ? style.current.hidden : style.current.visible, {\n      top: headerHeight\n    }];\n  }, [isOpen, headerHeight]);\n  var containerStyle = useMemo(function () {\n    return [allowShadow && style.current.containerShadow, propsStyle, headerHeight === 0 && style.current.hidden];\n  }, [allowShadow, propsStyle, headerHeight]);\n  var wrapperStyle = useMemo(function () {\n    return {\n      height: deltaY\n    };\n  }, [deltaY]);\n  var numberOfDaysHeaderStyle = useMemo(function () {\n    if (numberOfDays && numberOfDays > 1) {\n      return {\n        paddingHorizontal: 0\n      };\n    }\n  }, [numberOfDays]);\n  var _headerStyle = useMemo(function () {\n    return [numberOfDaysHeaderStyle, props.headerStyle];\n  }, [props.headerStyle, numberOfDaysHeaderStyle]);\n  useEffect(function () {\n    if (AccessibilityInfo) {\n      if (AccessibilityInfo.isScreenReaderEnabled) {\n        AccessibilityInfo.isScreenReaderEnabled().then(handleScreenReaderStatus);\n      } else if (AccessibilityInfo.fetch) {\n        AccessibilityInfo.fetch().then(handleScreenReaderStatus);\n      }\n    }\n  }, []);\n  var handleScreenReaderStatus = function handleScreenReaderStatus(screenReaderEnabled) {\n    setScreenReaderEnabled(screenReaderEnabled);\n  };\n  var scrollToDate = function scrollToDate(date) {\n    if (!horizontal) {\n      var _calendarList$current;\n      calendarList == null ? void 0 : (_calendarList$current = calendarList.current) == null ? void 0 : _calendarList$current.scrollToDay(date, 0, true);\n    } else if (getYear(date) !== visibleYear.current || getMonth(date) !== visibleMonth.current) {\n      var _calendarList$current2;\n      calendarList == null ? void 0 : (_calendarList$current2 = calendarList.current) == null ? void 0 : _calendarList$current2.scrollToMonth(date);\n    }\n  };\n  var scrollPage = useCallback(function (next) {\n    if (horizontal) {\n      var d = parseDate(date);\n      if (isOpen) {\n        d.setDate(1);\n        d.addMonths(next ? 1 : -1);\n      } else {\n        var dayOfTheWeek = d.getDay();\n        if (dayOfTheWeek < firstDay && firstDay > 0) {\n          dayOfTheWeek = 7 + dayOfTheWeek;\n        }\n        if (numberOfDays) {\n          var daysToAdd = numberOfDays <= 1 ? 7 : numberOfDays;\n          d.addDays(next ? daysToAdd : -daysToAdd);\n        } else {\n          var firstDayOfWeek = (next ? 7 : -7) - dayOfTheWeek + firstDay;\n          d.addDays(firstDayOfWeek);\n        }\n      }\n      setDate == null ? void 0 : setDate(toMarkingFormat(d), UpdateSources.PAGE_SCROLL);\n    }\n  }, [horizontal, isOpen, firstDay, numberOfDays, setDate, date]);\n  var handleMoveShouldSetPanResponder = function handleMoveShouldSetPanResponder(_, gestureState) {\n    if (disablePan) {\n      return false;\n    }\n    if (!horizontal && isOpen) {\n      return false;\n    }\n    if (!isOpen && gestureState.dy < 0) {\n      return false;\n    }\n    return gestureState.dy > 5 || gestureState.dy < -5;\n  };\n  var handlePanResponderMove = function handlePanResponderMove(_, gestureState) {\n    _wrapperStyles.current.style.height = Math.min(Math.max(closedHeight, _height.current + gestureState.dy), openHeight.current);\n    if (!horizontal) {\n      _headerStyles.style.top = Math.min(Math.max(-gestureState.dy, -headerHeight), 0);\n    } else {\n      if (!isOpen) {\n        _weekCalendarStyles.style.opacity = Math.min(1, Math.max(1 - gestureState.dy / 100, 0));\n      } else if (gestureState.dy < 0) {\n        _weekCalendarStyles.style.opacity = Math.max(0, Math.min(Math.abs(gestureState.dy / 200), 1));\n      }\n    }\n    updateNativeStyles();\n  };\n  var handlePanResponderEnd = function handlePanResponderEnd() {\n    _height.current = Number(_wrapperStyles.current.style.height);\n    bounceToPosition();\n  };\n  var numberOfDaysCondition = useMemo(function () {\n    return !numberOfDays || numberOfDays && numberOfDays <= 1;\n  }, [numberOfDays]);\n  var panResponder = useMemo(function () {\n    return numberOfDaysCondition ? PanResponder.create({\n      onMoveShouldSetPanResponder: handleMoveShouldSetPanResponder,\n      onPanResponderMove: handlePanResponderMove,\n      onPanResponderRelease: handlePanResponderEnd,\n      onPanResponderTerminate: handlePanResponderEnd\n    }) : PanResponder.create({});\n  }, [numberOfDays, position, headerHeight]);\n  var bounceToPosition = function bounceToPosition() {\n    var toValue = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    if (!disablePan) {\n      var threshold = isOpen ? openHeight.current - closeThreshold : closedHeight + openThreshold;\n      var _isOpen = _height.current >= threshold;\n      var newValue = _isOpen ? openHeight.current : closedHeight;\n      deltaY.setValue(_height.current);\n      _height.current = toValue || newValue;\n      _isOpen = _height.current >= threshold;\n      resetWeekCalendarOpacity(_isOpen);\n      Animated.spring(deltaY, {\n        toValue: _height.current,\n        speed: SPEED,\n        bounciness: BOUNCINESS,\n        useNativeDriver: false\n      }).start(function () {\n        onCalendarToggled == null ? void 0 : onCalendarToggled(_isOpen);\n        setPosition(function () {\n          return _height.current === closedHeight ? Positions.CLOSED : Positions.OPEN;\n        });\n      });\n      closeHeader(_isOpen);\n    }\n  };\n  var resetWeekCalendarOpacity = function () {\n    var _ref2 = _asyncToGenerator(function* (isOpen) {\n      _weekCalendarStyles.style.opacity = isOpen ? 0 : 1;\n      updateNativeStyles();\n    });\n    return function resetWeekCalendarOpacity(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var closeHeader = function closeHeader(isOpen) {\n    headerDeltaY.current.setValue(Number(_headerStyles.style.top));\n    if (!horizontal && !isOpen) {\n      Animated.spring(headerDeltaY.current, {\n        toValue: 0,\n        speed: SPEED / 10,\n        bounciness: 1,\n        useNativeDriver: false\n      }).start();\n    }\n  };\n  var closeCalendar = useCallback(function () {\n    setTimeout(function () {\n      if (isOpen) {\n        bounceToPosition(closedHeight);\n      }\n    }, 0);\n  }, [isOpen, closedHeight]);\n  var toggleCalendarPosition = useCallback(function () {\n    bounceToPosition(isOpen ? closedHeight : openHeight.current);\n  }, [isOpen, bounceToPosition, closedHeight]);\n  var _onPressArrowLeft = useCallback(function (method, month) {\n    onPressArrowLeft == null ? void 0 : onPressArrowLeft(method, month);\n    scrollPage(false);\n  }, [onPressArrowLeft, scrollPage]);\n  var _onPressArrowRight = useCallback(function (method, month) {\n    onPressArrowRight == null ? void 0 : onPressArrowRight(method, month);\n    scrollPage(true);\n  }, [onPressArrowRight, scrollPage]);\n  var _onDayPress = useCallback(function (value) {\n    if (numberOfDaysCondition) {\n      setDate == null ? void 0 : setDate(value.dateString, UpdateSources.DAY_PRESS);\n    }\n    if (closeOnDayPress) {\n      closeCalendar();\n    }\n    onDayPress == null ? void 0 : onDayPress(value);\n  }, [onDayPress, closeOnDayPress, closeCalendar, numberOfDaysCondition]);\n  var onVisibleMonthsChange = useCallback(throttle(function (value) {\n    var newDate = first(value);\n    if (newDate) {\n      var month = newDate.month;\n      if (month && visibleMonth.current !== month) {\n        visibleMonth.current = month;\n        var year = newDate.year;\n        if (year) {\n          visibleYear.current = year;\n        }\n        if (visibleMonth.current !== getMonth(date)) {\n          var next = isLaterDate(newDate, date);\n          scrollPage(next);\n        }\n        setTimeout(function () {\n          var _numberOfWeeks = getNumberOfWeeksInMonth(newDate.dateString);\n          if (_numberOfWeeks !== numberOfWeeks.current) {\n            numberOfWeeks.current = _numberOfWeeks;\n            openHeight.current = getOpenHeight();\n            if (isOpen) {\n              bounceToPosition(openHeight.current);\n            }\n          }\n        }, 0);\n      }\n    }\n  }, 100, {\n    trailing: true,\n    leading: false\n  }), [date, scrollPage]);\n  var _renderArrow = useCallback(function (direction) {\n    if (isFunction(renderArrow)) {\n      return renderArrow(direction);\n    }\n    return _jsx(Image, {\n      source: direction === 'right' ? rightArrowImageSource : leftArrowImageSource,\n      style: style.current.arrowImage,\n      testID: testID + \".\" + direction + \"Arrow\"\n    });\n  }, [renderArrow, rightArrowImageSource, leftArrowImageSource, testID]);\n  var renderWeekDaysNames = function renderWeekDaysNames() {\n    return _jsx(View, {\n      style: weekDaysStyle,\n      children: _jsx(WeekDaysNames, {\n        firstDay: firstDay,\n        style: style.current.dayHeader\n      })\n    });\n  };\n  var renderAnimatedHeader = function renderAnimatedHeader() {\n    var _XDate;\n    var monthYear = (_XDate = new XDate(date)) == null ? void 0 : _XDate.toString('MMMM yyyy');\n    return _jsxs(Animated.View, {\n      ref: header,\n      style: animatedHeaderStyle,\n      pointerEvents: 'none',\n      children: [_jsx(Text, {\n        allowFontScaling: false,\n        style: style.current.headerTitle,\n        children: monthYear\n      }), renderWeekDaysNames()]\n    });\n  };\n  var renderKnob = function renderKnob() {\n    return _jsx(View, {\n      style: style.current.knobContainer,\n      pointerEvents: 'box-none',\n      children: _jsx(TouchableOpacity, {\n        style: style.current.knob,\n        testID: testID + \".knob\",\n        onPress: toggleCalendarPosition,\n        hitSlop: knobHitSlop\n      })\n    });\n  };\n  var renderWeekCalendar = function renderWeekCalendar() {\n    var WeekComponent = disableWeekScroll ? Week : WeekCalendar;\n    return _jsx(Animated.View, {\n      ref: weekCalendarWrapper,\n      style: weekCalendarStyle,\n      pointerEvents: isOpen ? 'none' : 'auto',\n      children: _jsx(WeekComponent, _objectSpread(_objectSpread({\n        testID: testID + \".weekCalendar\",\n        firstDay: firstDay\n      }, others), {}, {\n        allowShadow: disableWeekScroll ? undefined : false,\n        current: disableWeekScroll ? date : undefined,\n        theme: themeObject,\n        style: calendarStyle,\n        hideDayNames: true,\n        onDayPress: _onDayPress,\n        accessibilityElementsHidden: true,\n        importantForAccessibility: 'no-hide-descendants'\n      }))\n    });\n  };\n  var renderCalendarList = function renderCalendarList() {\n    return _jsx(CalendarList, _objectSpread(_objectSpread({\n      testID: testID + \".calendarList\",\n      horizontal: horizontal,\n      firstDay: firstDay,\n      calendarStyle: calendarStyle,\n      onHeaderLayout: onHeaderLayout\n    }, others), {}, {\n      current: date,\n      theme: themeObject,\n      ref: calendarList,\n      onDayPress: _onDayPress,\n      onVisibleMonthsChange: onVisibleMonthsChange,\n      pagingEnabled: true,\n      scrollEnabled: isOpen,\n      hideArrows: shouldHideArrows,\n      onPressArrowLeft: _onPressArrowLeft,\n      onPressArrowRight: _onPressArrowRight,\n      hideExtraDays: !horizontal && isOpen,\n      renderArrow: _renderArrow,\n      staticHeader: true,\n      numberOfDays: numberOfDays,\n      headerStyle: _headerStyle,\n      timelineLeftInset: timelineLeftInset,\n      context: useContext(Context)\n    }));\n  };\n  return _jsx(View, {\n    testID: testID,\n    style: containerStyle,\n    children: screenReaderEnabled ? _jsx(Calendar, _objectSpread(_objectSpread({\n      testID: testID + \".calendarAccessible\"\n    }, others), {}, {\n      theme: themeObject,\n      onDayPress: _onDayPress,\n      hideExtraDays: true,\n      renderArrow: _renderArrow\n    })) : _jsxs(Animated.View, _objectSpread(_objectSpread({\n      testID: testID + \".expandableContainer\",\n      ref: wrapper,\n      style: wrapperStyle\n    }, panResponder.panHandlers), {}, {\n      children: [renderCalendarList(), renderWeekCalendar(), !hideKnob && renderKnob(), !horizontal && renderAnimatedHeader()]\n    }))\n  });\n};\nexport default ExpandableCalendar;\nExpandableCalendar.displayName = 'ExpandableCalendar';\nExpandableCalendar.defaultProps = {\n  horizontal: true,\n  initialPosition: Positions.CLOSED,\n  firstDay: 0,\n  leftArrowImageSource: LEFT_ARROW,\n  rightArrowImageSource: RIGHT_ARROW,\n  allowShadow: true,\n  openThreshold: PAN_GESTURE_THRESHOLD,\n  closeThreshold: PAN_GESTURE_THRESHOLD,\n  closeOnDayPress: true\n};\nExpandableCalendar.positions = Positions;","map":{"version":3,"names":["first","isFunction","isNumber","throttle","XDate","React","useContext","useRef","useState","useEffect","useCallback","useMemo","AccessibilityInfo","PanResponder","Animated","View","Text","Image","TouchableOpacity","page","parseDate","toMarkingFormat","styleConstructor","KNOB_CONTAINER_HEIGHT","WeekDaysNames","Calendar","CalendarList","Week","WeekCalendar","Context","constants","UpdateSources","jsx","_jsx","jsxs","_jsxs","Positions","SPEED","BOUNCINESS","WEEK_HEIGHT","DAY_NAMES_PADDING","PAN_GESTURE_THRESHOLD","LEFT_ARROW","require","RIGHT_ARROW","knobHitSlop","left","right","top","bottom","headerStyleOverride","stylesheet","calendar","header","week","marginTop","marginBottom","flexDirection","justifyContent","ExpandableCalendar","props","_useContext","date","setDate","numberOfDays","timelineLeftInset","_props$initialPositio","initialPosition","CLOSED","onCalendarToggled","disablePan","_props$hideKnob","hideKnob","_props$leftArrowImage","leftArrowImageSource","_props$rightArrowImag","rightArrowImageSource","_props$allowShadow","allowShadow","disableWeekScroll","_props$openThreshold","openThreshold","_props$closeThreshold","closeThreshold","_props$closeOnDayPres","closeOnDayPress","_props$horizontal","horizontal","calendarStyle","theme","propsStyle","style","_props$firstDay","firstDay","onDayPress","hideArrows","onPressArrowLeft","onPressArrowRight","renderArrow","testID","others","_objectWithoutProperties","_excluded","_useState","_useState2","_slicedToArray","screenReaderEnabled","setScreenReaderEnabled","_useState3","_useState4","headerHeight","setHeaderHeight","onHeaderLayout","_ref","height","nativeEvent","layout","getYear","d","getFullYear","getMonth","visibleMonth","visibleYear","isLaterDate","date1","date2","year","month","scrollToDate","getNumberOfWeeksInMonth","days","length","numberOfWeeks","_useState5","_useState6","position","setPosition","isOpen","OPEN","getOpenHeight","Math","max","screenHeight","screenWidth","current","openHeight","closedHeight","Number","startHeight","_height","deltaY","Value","headerDeltaY","setValue","wrapper","calendarList","weekCalendarWrapper","themeObject","Object","assign","_wrapperStyles","_headerStyles","_weekCalendarStyles","opacity","shouldHideArrows","updateNativeStyles","_wrapper$current","setNativeProps","_header$current","_weekCalendarWrapper$","weekDaysStyle","leftPaddings","paddingLeft","rightPaddings","paddingRight","weekDayNames","animatedHeaderStyle","weekCalendarStyle","weekContainer","hidden","visible","containerStyle","containerShadow","wrapperStyle","numberOfDaysHeaderStyle","paddingHorizontal","_headerStyle","headerStyle","isScreenReaderEnabled","then","handleScreenReaderStatus","fetch","_calendarList$current","scrollToDay","_calendarList$current2","scrollToMonth","scrollPage","next","addMonths","dayOfTheWeek","getDay","daysToAdd","addDays","firstDayOfWeek","PAGE_SCROLL","handleMoveShouldSetPanResponder","_","gestureState","dy","handlePanResponderMove","min","abs","handlePanResponderEnd","bounceToPosition","numberOfDaysCondition","panResponder","create","onMoveShouldSetPanResponder","onPanResponderMove","onPanResponderRelease","onPanResponderTerminate","toValue","arguments","undefined","threshold","_isOpen","newValue","resetWeekCalendarOpacity","spring","speed","bounciness","useNativeDriver","start","closeHeader","_ref2","_asyncToGenerator","_x","apply","closeCalendar","setTimeout","toggleCalendarPosition","_onPressArrowLeft","method","_onPressArrowRight","_onDayPress","value","dateString","DAY_PRESS","onVisibleMonthsChange","newDate","_numberOfWeeks","trailing","leading","_renderArrow","direction","source","arrowImage","renderWeekDaysNames","children","dayHeader","renderAnimatedHeader","_XDate","monthYear","toString","ref","pointerEvents","allowFontScaling","headerTitle","renderKnob","knobContainer","knob","onPress","hitSlop","renderWeekCalendar","WeekComponent","_objectSpread","hideDayNames","accessibilityElementsHidden","importantForAccessibility","renderCalendarList","pagingEnabled","scrollEnabled","hideExtraDays","staticHeader","context","panHandlers","displayName","defaultProps","positions"],"sources":["C:/Users/jsh4f/Downloads/undefeated_landscaping_expo/node_modules/react-native-calendars/src/expandableCalendar/index.js"],"sourcesContent":["import first from 'lodash/first';\nimport isFunction from 'lodash/isFunction';\nimport isNumber from 'lodash/isNumber';\nimport throttle from 'lodash/throttle';\nimport XDate from 'xdate';\nimport React, { useContext, useRef, useState, useEffect, useCallback, useMemo } from 'react';\nimport { AccessibilityInfo, PanResponder, Animated, View, Text, Image, TouchableOpacity } from 'react-native';\nimport { page } from '../dateutils';\nimport { parseDate, toMarkingFormat } from '../interface';\nimport styleConstructor, { KNOB_CONTAINER_HEIGHT } from './style';\nimport WeekDaysNames from '../commons/WeekDaysNames';\nimport Calendar from '../calendar';\nimport CalendarList from '../calendar-list';\nimport Week from './week';\nimport WeekCalendar from './WeekCalendar';\nimport Context from './Context';\nimport constants from '../commons/constants';\nimport { UpdateSources } from './commons';\nexport var Positions;\n(function (Positions) {\n    Positions[\"CLOSED\"] = \"closed\";\n    Positions[\"OPEN\"] = \"open\";\n})(Positions || (Positions = {}));\nconst SPEED = 20;\nconst BOUNCINESS = 6;\nconst WEEK_HEIGHT = 46;\nconst DAY_NAMES_PADDING = 24;\nconst PAN_GESTURE_THRESHOLD = 30;\nconst LEFT_ARROW = require('../calendar/img/previous.png');\nconst RIGHT_ARROW = require('../calendar/img/next.png');\nconst knobHitSlop = { left: 10, right: 10, top: 10, bottom: 10 };\nconst headerStyleOverride = {\n    stylesheet: {\n        calendar: {\n            header: {\n                week: {\n                    marginTop: 7,\n                    marginBottom: -4,\n                    flexDirection: 'row',\n                    justifyContent: 'space-around'\n                }\n            }\n        }\n    }\n};\n/**\n * @description: Expandable calendar component\n * @note: Should be wrapped with 'CalendarProvider'\n * @extends: CalendarList\n * @extendslink: docs/CalendarList\n * @example: https://github.com/wix/react-native-calendars/blob/master/example/src/screens/expandableCalendar.js\n */\nconst ExpandableCalendar = (props) => {\n    const { date, setDate, numberOfDays, timelineLeftInset } = useContext(Context);\n    const { \n    /** ExpandableCalendar props */\n    initialPosition = Positions.CLOSED, onCalendarToggled, disablePan, hideKnob = numberOfDays && numberOfDays > 1, leftArrowImageSource = LEFT_ARROW, rightArrowImageSource = RIGHT_ARROW, allowShadow = true, disableWeekScroll, openThreshold = PAN_GESTURE_THRESHOLD, closeThreshold = PAN_GESTURE_THRESHOLD, closeOnDayPress = true, \n    /** CalendarList props */\n    horizontal = true, calendarStyle, theme, style: propsStyle, firstDay = 0, onDayPress, hideArrows, onPressArrowLeft, onPressArrowRight, renderArrow, testID, ...others } = props;\n    const [screenReaderEnabled, setScreenReaderEnabled] = useState(false);\n    const [headerHeight, setHeaderHeight] = useState(0);\n    const onHeaderLayout = useCallback(({ nativeEvent: { layout: { height } } }) => {\n        setHeaderHeight(height);\n    }, []);\n    /** Date */\n    const getYear = (date) => {\n        const d = new XDate(date);\n        return d.getFullYear();\n    };\n    const getMonth = (date) => {\n        const d = new XDate(date);\n        return d.getMonth() + 1; // getMonth() returns month's index' (0-11)\n    };\n    const visibleMonth = useRef(getMonth(date));\n    const visibleYear = useRef(getYear(date));\n    const isLaterDate = (date1, date2) => {\n        if (date1 && date2) {\n            if (date1.year > getYear(date2)) {\n                return true;\n            }\n            if (date1.year === getYear(date2)) {\n                if (date1.month > getMonth(date2)) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    };\n    useEffect(() => {\n        // date was changed from AgendaList, arrows or scroll\n        scrollToDate(date);\n    }, [date]);\n    /** Number of weeks */\n    const getNumberOfWeeksInMonth = (month) => {\n        const days = page(new XDate(month), firstDay);\n        return days.length / 7;\n    };\n    const numberOfWeeks = useRef(getNumberOfWeeksInMonth(date));\n    /** Position */\n    const [position, setPosition] = useState(numberOfDays ? Positions.CLOSED : initialPosition);\n    const isOpen = position === Positions.OPEN;\n    const getOpenHeight = () => {\n        if (!horizontal) {\n            return Math.max(constants.screenHeight, constants.screenWidth);\n        }\n        return headerHeight + (WEEK_HEIGHT * (numberOfWeeks.current)) + (hideKnob ? 0 : KNOB_CONTAINER_HEIGHT);\n    };\n    const openHeight = useRef(getOpenHeight());\n    const closedHeight = useMemo(() => headerHeight + WEEK_HEIGHT + (hideKnob || Number(numberOfDays) > 1 ? 0 : KNOB_CONTAINER_HEIGHT), [numberOfDays, hideKnob, headerHeight]);\n    const startHeight = useMemo(() => isOpen ? openHeight.current : closedHeight, [closedHeight, isOpen]);\n    const _height = useRef(startHeight);\n    const deltaY = useMemo(() => new Animated.Value(startHeight), [startHeight]);\n    const headerDeltaY = useRef(new Animated.Value(isOpen ? -headerHeight : 0));\n    useEffect(() => {\n        _height.current = startHeight;\n        deltaY.setValue(startHeight);\n    }, [startHeight]);\n    useEffect(() => {\n        openHeight.current = getOpenHeight();\n    }, [headerHeight]);\n    useEffect(() => {\n        if (numberOfDays) {\n            setPosition(Positions.CLOSED);\n        }\n    }, [numberOfDays]);\n    /** Components' refs */\n    const wrapper = useRef();\n    const calendarList = useRef();\n    const header = useRef();\n    const weekCalendarWrapper = useRef();\n    /** Styles */\n    const style = useRef(styleConstructor(theme));\n    const themeObject = Object.assign(headerStyleOverride, theme);\n    const _wrapperStyles = useRef({ style: { height: startHeight } });\n    const _headerStyles = { style: { top: isOpen ? -headerHeight : 0 } };\n    const _weekCalendarStyles = { style: { opacity: isOpen ? 0 : 1 } };\n    const shouldHideArrows = !horizontal ? true : hideArrows || false;\n    const updateNativeStyles = () => {\n        wrapper?.current?.setNativeProps(_wrapperStyles.current);\n        if (!horizontal) {\n            header?.current?.setNativeProps(_headerStyles);\n        }\n        else {\n            weekCalendarWrapper?.current?.setNativeProps(_weekCalendarStyles);\n        }\n    };\n    const weekDaysStyle = useMemo(() => {\n        const leftPaddings = calendarStyle?.paddingLeft;\n        const rightPaddings = calendarStyle?.paddingRight;\n        return [\n            style.current.weekDayNames,\n            {\n                paddingLeft: isNumber(leftPaddings) ? leftPaddings + 6 : DAY_NAMES_PADDING,\n                paddingRight: isNumber(rightPaddings) ? rightPaddings + 6 : DAY_NAMES_PADDING\n            }\n        ];\n    }, [calendarStyle]);\n    const animatedHeaderStyle = useMemo(() => {\n        return [style.current.header, { height: headerHeight, top: headerDeltaY.current }];\n    }, [headerDeltaY.current, headerHeight]);\n    const weekCalendarStyle = useMemo(() => {\n        return [style.current.weekContainer, isOpen ? style.current.hidden : style.current.visible, { top: headerHeight }];\n    }, [isOpen, headerHeight]);\n    const containerStyle = useMemo(() => {\n        return [allowShadow && style.current.containerShadow, propsStyle, headerHeight === 0 && style.current.hidden];\n    }, [allowShadow, propsStyle, headerHeight]);\n    const wrapperStyle = useMemo(() => {\n        return { height: deltaY };\n    }, [deltaY]);\n    const numberOfDaysHeaderStyle = useMemo(() => {\n        if (numberOfDays && numberOfDays > 1) {\n            return { paddingHorizontal: 0 };\n        }\n    }, [numberOfDays]);\n    const _headerStyle = useMemo(() => {\n        return [numberOfDaysHeaderStyle, props.headerStyle];\n    }, [props.headerStyle, numberOfDaysHeaderStyle]);\n    /** AccessibilityInfo */\n    useEffect(() => {\n        if (AccessibilityInfo) {\n            if (AccessibilityInfo.isScreenReaderEnabled) {\n                AccessibilityInfo.isScreenReaderEnabled().then(handleScreenReaderStatus);\n                //@ts-expect-error\n            }\n            else if (AccessibilityInfo.fetch) {\n                // Support for older RN versions\n                //@ts-expect-error\n                AccessibilityInfo.fetch().then(handleScreenReaderStatus);\n            }\n        }\n    }, []);\n    const handleScreenReaderStatus = (screenReaderEnabled) => {\n        setScreenReaderEnabled(screenReaderEnabled);\n    };\n    /** Scroll */\n    const scrollToDate = (date) => {\n        if (!horizontal) {\n            calendarList?.current?.scrollToDay(date, 0, true);\n        }\n        else if (getYear(date) !== visibleYear.current || getMonth(date) !== visibleMonth.current) {\n            // don't scroll if the month is already visible\n            calendarList?.current?.scrollToMonth(date);\n        }\n    };\n    const scrollPage = useCallback((next) => {\n        if (horizontal) {\n            const d = parseDate(date);\n            if (isOpen) {\n                d.setDate(1);\n                d.addMonths(next ? 1 : -1);\n            }\n            else {\n                let dayOfTheWeek = d.getDay();\n                if (dayOfTheWeek < firstDay && firstDay > 0) {\n                    dayOfTheWeek = 7 + dayOfTheWeek;\n                }\n                if (numberOfDays) {\n                    const daysToAdd = numberOfDays <= 1 ? 7 : numberOfDays;\n                    d.addDays(next ? daysToAdd : -daysToAdd);\n                }\n                else {\n                    const firstDayOfWeek = (next ? 7 : -7) - dayOfTheWeek + firstDay;\n                    d.addDays(firstDayOfWeek);\n                }\n            }\n            setDate?.(toMarkingFormat(d), UpdateSources.PAGE_SCROLL);\n        }\n    }, [horizontal, isOpen, firstDay, numberOfDays, setDate, date]);\n    /** Pan Gesture */\n    const handleMoveShouldSetPanResponder = (_, gestureState) => {\n        if (disablePan) {\n            return false;\n        }\n        if (!horizontal && isOpen) {\n            // disable pan detection when vertical calendar is open to allow calendar scroll\n            return false;\n        }\n        if (!isOpen && gestureState.dy < 0) {\n            // disable pan detection to limit to closed height\n            return false;\n        }\n        return gestureState.dy > 5 || gestureState.dy < -5;\n    };\n    const handlePanResponderMove = (_, gestureState) => {\n        // limit min height to closed height and max to open height\n        _wrapperStyles.current.style.height = Math.min(Math.max(closedHeight, _height.current + gestureState.dy), openHeight.current);\n        if (!horizontal) {\n            // vertical CalenderList header\n            _headerStyles.style.top = Math.min(Math.max(-gestureState.dy, -headerHeight), 0);\n        }\n        else {\n            // horizontal Week view\n            if (!isOpen) {\n                _weekCalendarStyles.style.opacity = Math.min(1, Math.max(1 - gestureState.dy / 100, 0));\n            }\n            else if (gestureState.dy < 0) {\n                _weekCalendarStyles.style.opacity = Math.max(0, Math.min(Math.abs(gestureState.dy / 200), 1));\n            }\n        }\n        updateNativeStyles();\n    };\n    const handlePanResponderEnd = () => {\n        _height.current = Number(_wrapperStyles.current.style.height);\n        bounceToPosition();\n    };\n    const numberOfDaysCondition = useMemo(() => {\n        return !numberOfDays || numberOfDays && numberOfDays <= 1;\n    }, [numberOfDays]);\n    const panResponder = useMemo(() => numberOfDaysCondition ? PanResponder.create({\n        onMoveShouldSetPanResponder: handleMoveShouldSetPanResponder,\n        onPanResponderMove: handlePanResponderMove,\n        onPanResponderRelease: handlePanResponderEnd,\n        onPanResponderTerminate: handlePanResponderEnd\n    }) : PanResponder.create({}), [numberOfDays, position, headerHeight]); // All the functions here rely on headerHeight directly or indirectly through refs that are updated in useEffect\n    /** Animated */\n    const bounceToPosition = (toValue = 0) => {\n        if (!disablePan) {\n            const threshold = isOpen ? openHeight.current - closeThreshold : closedHeight + openThreshold;\n            let _isOpen = _height.current >= threshold;\n            const newValue = _isOpen ? openHeight.current : closedHeight;\n            deltaY.setValue(_height.current); // set the start position for the animated value\n            _height.current = toValue || newValue;\n            _isOpen = _height.current >= threshold; // re-check after _height.current was set\n            resetWeekCalendarOpacity(_isOpen);\n            Animated.spring(deltaY, {\n                toValue: _height.current,\n                speed: SPEED,\n                bounciness: BOUNCINESS,\n                useNativeDriver: false\n            }).start(() => {\n                onCalendarToggled?.(_isOpen);\n                setPosition(() => _height.current === closedHeight ? Positions.CLOSED : Positions.OPEN);\n            });\n            closeHeader(_isOpen);\n        }\n    };\n    const resetWeekCalendarOpacity = async (isOpen) => {\n        _weekCalendarStyles.style.opacity = isOpen ? 0 : 1;\n        updateNativeStyles();\n    };\n    const closeHeader = (isOpen) => {\n        headerDeltaY.current.setValue(Number(_headerStyles.style.top)); // set the start position for the animated value\n        if (!horizontal && !isOpen) {\n            Animated.spring(headerDeltaY.current, {\n                toValue: 0,\n                speed: SPEED / 10,\n                bounciness: 1,\n                useNativeDriver: false\n            }).start();\n        }\n    };\n    const closeCalendar = useCallback(() => {\n        setTimeout(() => {\n            // to allows setDate to be completed\n            if (isOpen) {\n                bounceToPosition(closedHeight);\n            }\n        }, 0);\n    }, [isOpen, closedHeight]);\n    const toggleCalendarPosition = useCallback(() => {\n        bounceToPosition(isOpen ? closedHeight : openHeight.current);\n    }, [isOpen, bounceToPosition, closedHeight]);\n    /** Events */\n    const _onPressArrowLeft = useCallback((method, month) => {\n        onPressArrowLeft?.(method, month);\n        scrollPage(false);\n    }, [onPressArrowLeft, scrollPage]);\n    const _onPressArrowRight = useCallback((method, month) => {\n        onPressArrowRight?.(method, month);\n        scrollPage(true);\n    }, [onPressArrowRight, scrollPage]);\n    const _onDayPress = useCallback((value) => {\n        if (numberOfDaysCondition) {\n            setDate?.(value.dateString, UpdateSources.DAY_PRESS);\n        }\n        if (closeOnDayPress) {\n            closeCalendar();\n        }\n        onDayPress?.(value);\n    }, [onDayPress, closeOnDayPress, closeCalendar, numberOfDaysCondition]);\n    const onVisibleMonthsChange = useCallback(throttle((value) => {\n        const newDate = first(value);\n        if (newDate) {\n            const month = newDate.month;\n            if (month && visibleMonth.current !== month) {\n                visibleMonth.current = month;\n                const year = newDate.year;\n                if (year) {\n                    visibleYear.current = year;\n                }\n                // for horizontal scroll\n                if (visibleMonth.current !== getMonth(date)) {\n                    const next = isLaterDate(newDate, date);\n                    scrollPage(next);\n                }\n                // updating openHeight\n                setTimeout(() => {\n                    // to wait for setDate() call in horizontal scroll (scrollPage())\n                    const _numberOfWeeks = getNumberOfWeeksInMonth(newDate.dateString);\n                    if (_numberOfWeeks !== numberOfWeeks.current) {\n                        numberOfWeeks.current = _numberOfWeeks;\n                        openHeight.current = getOpenHeight();\n                        if (isOpen) {\n                            bounceToPosition(openHeight.current);\n                        }\n                    }\n                }, 0);\n            }\n        }\n    }, 100, { trailing: true, leading: false }), [date, scrollPage]);\n    /** Renders */\n    const _renderArrow = useCallback((direction) => {\n        if (isFunction(renderArrow)) {\n            return renderArrow(direction);\n        }\n        return (<Image source={direction === 'right' ? rightArrowImageSource : leftArrowImageSource} style={style.current.arrowImage} testID={`${testID}.${direction}Arrow`}/>);\n    }, [renderArrow, rightArrowImageSource, leftArrowImageSource, testID]);\n    const renderWeekDaysNames = () => {\n        return (<View style={weekDaysStyle}>\n        <WeekDaysNames firstDay={firstDay} style={style.current.dayHeader}/>\n      </View>);\n    };\n    const renderAnimatedHeader = () => {\n        const monthYear = new XDate(date)?.toString('MMMM yyyy');\n        return (<Animated.View ref={header} style={animatedHeaderStyle} pointerEvents={'none'}>\n        <Text allowFontScaling={false} style={style.current.headerTitle}>\n          {monthYear}\n        </Text>\n        {renderWeekDaysNames()}\n      </Animated.View>);\n    };\n    const renderKnob = () => {\n        return (<View style={style.current.knobContainer} pointerEvents={'box-none'}>\n        <TouchableOpacity style={style.current.knob} testID={`${testID}.knob`} onPress={toggleCalendarPosition} hitSlop={knobHitSlop} /* activeOpacity={isOpen ? undefined : 1} *//>\n      </View>);\n    };\n    const renderWeekCalendar = () => {\n        const WeekComponent = disableWeekScroll ? Week : WeekCalendar;\n        return (<Animated.View ref={weekCalendarWrapper} style={weekCalendarStyle} pointerEvents={isOpen ? 'none' : 'auto'}>\n        <WeekComponent testID={`${testID}.weekCalendar`} firstDay={firstDay} {...others} allowShadow={disableWeekScroll ? undefined : false} current={disableWeekScroll ? date : undefined} theme={themeObject} style={calendarStyle} hideDayNames={true} onDayPress={_onDayPress} accessibilityElementsHidden // iOS\n         importantForAccessibility={'no-hide-descendants'} // Android\n        />\n      </Animated.View>);\n    };\n    const renderCalendarList = () => {\n        return (<CalendarList testID={`${testID}.calendarList`} horizontal={horizontal} firstDay={firstDay} calendarStyle={calendarStyle} onHeaderLayout={onHeaderLayout} {...others} current={date} theme={themeObject} ref={calendarList} onDayPress={_onDayPress} onVisibleMonthsChange={onVisibleMonthsChange} pagingEnabled scrollEnabled={isOpen} hideArrows={shouldHideArrows} onPressArrowLeft={_onPressArrowLeft} onPressArrowRight={_onPressArrowRight} hideExtraDays={!horizontal && isOpen} renderArrow={_renderArrow} staticHeader numberOfDays={numberOfDays} headerStyle={_headerStyle} timelineLeftInset={timelineLeftInset} context={useContext(Context)}/>);\n    };\n    return (<View testID={testID} style={containerStyle}>\n      {screenReaderEnabled ? (<Calendar testID={`${testID}.calendarAccessible`} {...others} theme={themeObject} onDayPress={_onDayPress} hideExtraDays renderArrow={_renderArrow}/>) : (<Animated.View testID={`${testID}.expandableContainer`} ref={wrapper} style={wrapperStyle} {...panResponder.panHandlers}>\n          {renderCalendarList()}\n          {renderWeekCalendar()}\n          {!hideKnob && renderKnob()}\n          {!horizontal && renderAnimatedHeader()}\n        </Animated.View>)}\n    </View>);\n};\nexport default ExpandableCalendar;\nExpandableCalendar.displayName = 'ExpandableCalendar';\nExpandableCalendar.defaultProps = {\n    horizontal: true,\n    initialPosition: Positions.CLOSED,\n    firstDay: 0,\n    leftArrowImageSource: LEFT_ARROW,\n    rightArrowImageSource: RIGHT_ARROW,\n    allowShadow: true,\n    openThreshold: PAN_GESTURE_THRESHOLD,\n    closeThreshold: PAN_GESTURE_THRESHOLD,\n    closeOnDayPress: true\n};\nExpandableCalendar.positions = Positions;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}