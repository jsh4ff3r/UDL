{"ast":null,"code":"import findNodeHandle from \"react-native-web/dist/exports/findNodeHandle\";\nimport AnimatedNode from './AnimatedNode';\nimport AnimatedEvent from './AnimatedEvent';\nimport { createOrReuseStyleNode } from './AnimatedStyle';\nimport invariant from 'invariant';\nimport deepEqual from 'lodash.isequal';\nimport { val } from '../val';\nfunction sanitizeProps(inputProps) {\n  let props;\n  for (const key in inputProps) {\n    const value = inputProps[key];\n    if (value instanceof AnimatedNode && !(value instanceof AnimatedEvent)) {\n      if (props === undefined) {\n        props = {};\n      }\n      props[key] = value.__nodeID;\n    }\n  }\n  return props;\n}\nexport function createOrReusePropsNode(props, callback, oldNode) {\n  if (props.style) {\n    const style = createOrReuseStyleNode(props.style, oldNode && oldNode._props.style);\n    if (style) {\n      props = Object.assign({}, props, {\n        style\n      });\n    }\n  }\n  const config = sanitizeProps(props);\n  if (config === undefined) {\n    return undefined;\n  }\n  if (oldNode && deepEqual(config, oldNode._config)) {\n    return oldNode;\n  }\n  return new AnimatedProps(props, config, callback);\n}\nclass AnimatedProps extends AnimatedNode {\n  constructor(props, config, callback) {\n    super({\n      type: 'props',\n      props: config\n    }, Object.values(props).filter(n => !(n instanceof AnimatedEvent)));\n    this._config = config;\n    this._props = props;\n    this._callback = callback;\n    this.__attach();\n  }\n  toString() {\n    return `AnimatedProps, id: ${this.__nodeID}`;\n  }\n  __onEvaluate() {\n    const props = {};\n    for (const key in this._props) {\n      const value = this._props[key];\n      if (value instanceof AnimatedNode) {\n        props[key] = value.__getValue();\n      }\n    }\n    return props;\n  }\n  __detach() {\n    const nativeViewTag = findNodeHandle(this._animatedView);\n    invariant(nativeViewTag != null, 'Unable to locate attached view in the native tree');\n    this._disconnectAnimatedView(nativeViewTag);\n    super.__detach();\n  }\n  update() {\n    this._callback();\n    if (!this._animatedView) {\n      return;\n    }\n    val(this);\n  }\n  setNativeView(animatedView) {\n    if (this._animatedView === animatedView) {\n      return;\n    }\n    this._animatedView = animatedView;\n    const nativeViewTag = findNodeHandle(this._animatedView);\n    invariant(nativeViewTag != null, 'Unable to locate attached view in the native tree');\n    this._connectAnimatedView(nativeViewTag);\n  }\n}","map":{"version":3,"names":["AnimatedNode","AnimatedEvent","createOrReuseStyleNode","invariant","deepEqual","val","sanitizeProps","inputProps","props","key","value","undefined","__nodeID","createOrReusePropsNode","callback","oldNode","style","_props","Object","assign","config","_config","AnimatedProps","constructor","type","values","filter","n","_callback","__attach","toString","__onEvaluate","__getValue","__detach","nativeViewTag","findNodeHandle","_animatedView","_disconnectAnimatedView","update","setNativeView","animatedView","_connectAnimatedView"],"sources":["C:/Users/jsh4f/OneDrive/Documents/GitHub/UDL/node_modules/react-native-reanimated/lib/reanimated1/core/AnimatedProps.js"],"sourcesContent":["import { findNodeHandle } from 'react-native';\n\nimport AnimatedNode from './AnimatedNode';\nimport AnimatedEvent from './AnimatedEvent';\nimport { createOrReuseStyleNode } from './AnimatedStyle';\n\nimport invariant from 'invariant';\nimport deepEqual from 'lodash.isequal';\nimport { val } from '../val';\n\nfunction sanitizeProps(inputProps) {\n  let props;\n  for (const key in inputProps) {\n    const value = inputProps[key];\n    if (value instanceof AnimatedNode && !(value instanceof AnimatedEvent)) {\n      if (props === undefined) {\n        props = {};\n      }\n      props[key] = value.__nodeID;\n    }\n  }\n  return props;\n}\n\nexport function createOrReusePropsNode(props, callback, oldNode) {\n  if (props.style) {\n    const style = createOrReuseStyleNode(\n      props.style,\n      oldNode && oldNode._props.style\n    );\n    if (style) {\n      props = {\n        ...props,\n        style,\n      };\n    }\n  }\n  const config = sanitizeProps(props);\n  if (config === undefined) {\n    return undefined;\n  }\n  if (oldNode && deepEqual(config, oldNode._config)) {\n    return oldNode;\n  }\n  return new AnimatedProps(props, config, callback);\n}\n\nclass AnimatedProps extends AnimatedNode {\n  constructor(props, config, callback) {\n    super(\n      { type: 'props', props: config },\n      Object.values(props).filter((n) => !(n instanceof AnimatedEvent))\n    );\n    this._config = config;\n    this._props = props;\n    this._callback = callback;\n    this.__attach();\n  }\n\n  toString() {\n    return `AnimatedProps, id: ${this.__nodeID}`;\n  }\n\n  __onEvaluate() {\n    const props = {};\n    for (const key in this._props) {\n      const value = this._props[key];\n      if (value instanceof AnimatedNode) {\n        props[key] = value.__getValue();\n      }\n    }\n    return props;\n  }\n\n  __detach() {\n    const nativeViewTag = findNodeHandle(this._animatedView);\n    invariant(\n      nativeViewTag != null,\n      'Unable to locate attached view in the native tree'\n    );\n    this._disconnectAnimatedView(nativeViewTag);\n    super.__detach();\n  }\n\n  update() {\n    this._callback();\n\n    if (!this._animatedView) {\n      return;\n    }\n\n    val(this);\n  }\n\n  setNativeView(animatedView) {\n    if (this._animatedView === animatedView) {\n      return;\n    }\n    this._animatedView = animatedView;\n\n    const nativeViewTag = findNodeHandle(this._animatedView);\n    invariant(\n      nativeViewTag != null,\n      'Unable to locate attached view in the native tree'\n    );\n    this._connectAnimatedView(nativeViewTag);\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}